"use strict";(self.webpackChunkrecipe_app=self.webpackChunkrecipe_app||[]).push([[592],{8174:(a,o,i)=>{i.d(o,{v:()=>n});var c=i(7579),_=i(1223),p=i(2457);let n=(()=>{class r{constructor(e){this._shoppingListService=e,this.recipesChanged=new c.x,this._recipes=[]}get getRecipes(){return this._recipes.slice()}getRecipeByIndex(e){return this._recipes[e]}setRecipes(e){this._recipes=e,this.recipesChanged.next(this.getRecipes)}findRecipeByName(e){return this._recipes.find(d=>d.name===e)}addIngredientsToShoppingList(e){this._shoppingListService.addIngredients(e)}addRecipe(e){this._recipes.push(e),this.recipesChanged.next(this.getRecipes)}updateRecipe(e,d){this._recipes[e]=d,this.recipesChanged.next(this.getRecipes)}deleteRecipe(e){this._recipes.splice(e,1),this.recipesChanged.next(this.getRecipes)}}return r.\u0275fac=function(e){return new(e||r)(_.LFG(p._))},r.\u0275prov=_.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},3649:(a,o,i)=>{i.d(o,{Z:()=>d});var c=i(4004),_=i(8505),p=i(1223),n=i(520),r=i(8588),t=i(8174),e=i(2457);let d=(()=>{class h{constructor(s,g,v,E){this._http=s,this._router=g,this._recipeService=v,this._shoppingListService=E}storeRecipes(){this._http.put("https://recipe-book-43f49-default-rtdb.firebaseio.com/recipes.json",this._recipeService.getRecipes).subscribe(g=>{})}fetchRecipes(){return this._http.get("https://recipe-book-43f49-default-rtdb.firebaseio.com/recipes.json").pipe((0,c.U)(s=>{if(s)return s.map(g=>Object.assign(Object.assign({},g),{ingredients:g.ingredients?g.ingredients:[]}))}),(0,_.b)(s=>{s&&(this._recipeService.setRecipes(s),this._router.navigate(["/recipes"]))}))}storeShoppingList(){localStorage.setItem("shopList",JSON.stringify(this._shoppingListService.getIngredients))}fetchShoppingList(){const s=JSON.parse(localStorage.getItem("shopList"));s&&this._shoppingListService.setShopList(s)}}return h.\u0275fac=function(s){return new(s||h)(p.LFG(n.eN),p.LFG(r.F0),p.LFG(t.v),p.LFG(e._))},h.\u0275prov=p.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},2457:(a,o,i)=>{i.d(o,{_:()=>p});var c=i(7579),_=i(1223);let p=(()=>{class n{constructor(){this.ingredientsChanged=new c.x,this.idForStarteEditing=new c.x,this._ingredients=[]}get getIngredients(){return this._ingredients.slice()}getIngredientsByIndex(t){return this._ingredients[t]}addIngredient(t){this._ingredients.push(t),this.ingredientsChanged.next(this.getIngredients)}addIngredients(t){this._ingredients.push(...t),this.ingredientsChanged.next(this.getIngredients)}updateIngredient(t,e){this._ingredients[t]=e,this.ingredientsChanged.next(this.getIngredients)}deleteIngredient(t){this._ingredients.splice(t,1),this.ingredientsChanged.next(this.getIngredients)}setShopList(t){this._ingredients=t,this.ingredientsChanged.next(this.getIngredients)}_firstLetterToUpperCase(t){return t[0].toUpperCase()+t.slice(1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()}}]);